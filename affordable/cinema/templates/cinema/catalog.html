{% extends "main/base.html" %}
{% load static %}

{% block content %}
    <section class="section section--first section--bg" data-bg="img/bg/section__bg.jpg">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="section__wrap">
                        <h1 class="section__title section__title--head">Каталог</h1>
                        <ul class="breadcrumbs">
                            <li class="breadcrumbs__item"><a href="{% url "main:index" %}">Головна</a></li>
                            <li class="breadcrumbs__item breadcrumbs__item--active">Каталог</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div class="filter">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="filter__content">
                        <button class="filter__menu" type="button"><svg xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24">
                                <path
                                    d="M19,2H5A3,3,0,0,0,2,5V6.17a3,3,0,0,0,.25,1.2l0,.06a2.81,2.81,0,0,0,.59.86L9,14.41V21a1,1,0,0,0,.47.85A1,1,0,0,0,10,22a1,1,0,0,0,.45-.11l4-2A1,1,0,0,0,15,19V14.41l6.12-6.12a2.81,2.81,0,0,0,.59-.86l0-.06A3,3,0,0,0,22,6.17V5A3,3,0,0,0,19,2ZM13.29,13.29A1,1,0,0,0,13,14v4.38l-2,1V14a1,1,0,0,0-.29-.71L5.41,8H18.59ZM20,6H4V5A1,1,0,0,1,5,4H19a1,1,0,0,1,1,1Z">
                                </path>
                            </svg>Filter</button>
                        <div class="filter__items">
                            <select class="filter__select" name="genre" id="filter__genre">
                            <option value="all" {% if not genre_slug %}selected{% endif %}>Всі жанри</option>
                                {% for genre in genres %}
                                    <option value="{{ genre.slug }}" {% if genre.slug == genre_slug %}selected{% endif %}>{{ genre.name }}</option>
                                {% endfor %}
                            </select>
                            </select>
                            <select class="filter__select" name="rate" id="filter__rate">
                                <option value="0">Рейтинг</option>
                                <option value="1">від 3.0</option>
                                <option value="2">від 5.0</option>
                                <option value="3">від 7.0</option>
                                <option value="4">Найвищий рейтинг</option>
                            </select>
                        </div>
                        <button class="filter__btn" type="button"><span>Використати</span></button>
                        <span class="filter__amount">Показано 12 з 169</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="section section--catalog">
        <div class="container">
            <div class="row">
            {% for movie in movie %}
                <div class="col-6 col-sm-4 col-lg-3 col-xl-2">
                    <div class="item">
                        <a href="{% url 'catalog:movie' movie.slug %}" class="item__cover">
                            {% if movie.img %}
                                <img src="{{ movie.img.url }}" alt="">
                            {% else %}
                                <img src="{% static 'main/img/notfound.svg' %}" alt="Not found img">
                            {% endif %}
                            <span class="item__play">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                    <path d="M18.54,9,8.88,3.46a3.42,3.42,0,0,0-5.13,3V17.58A3.42,3.42,0,0,0,7.17,21a3.43,3.43,0,0,0,1.71-.46L18.54,15a3.42,3.42,0,0,0,0-5.92Zm-1,4.19L7.88,18.81a1.44,1.44,0,0,1-1.42,0,1.42,1.42,0,0,1-.71-1.23V6.42a1.42,1.42,0,0,1,.71-1.23A1.51,1.51,0,0,1,7.17,5a1.54,1.54,0,0,1,.71.19l9.66,5.58a1.42,1.42,0,0,1,0,2.46Z" />
                                </svg>
                            </span>
                        </a>
                        <div class="item__content">
                            <h3 class="item__title"><a href="{% url 'catalog:movie' movie.slug %}">{{ movie.name }}</a></h3>
                            <span class="item__category">
                                {% for genre in movie.genre.all %}
                                    <a href="#">{{ genre.name }}</a>{% if not forloop.last %}, {% endif %}
                                {% endfor %}
                            </span>
                            <span class="item__rate">{{ movie.rating }}</span>
                        </div>
                    </div>
                </div>
            {% endfor %} 
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="section__paginator">
                        <span class="section__paginator-pages">Showing 12 of 169</span>
                        <ul class="section__paginator-list">
                            <li>
                                <a href="#">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                        <path
                                            d="M17,11H9.41l3.3-3.29a1,1,0,1,0-1.42-1.42l-5,5a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l5,5a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L9.41,13H17a1,1,0,0,0,0-2Z" />
                                    </svg>
                                    <span>Попередня</span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <span>Наступна</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                        <path
                                            d="M17.92,11.62a1,1,0,0,0-.21-.33l-5-5a1,1,0,0,0-1.42,1.42L14.59,11H7a1,1,0,0,0,0,2h7.59l-3.3,3.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0l5-5a1,1,0,0,0,.21-.33A1,1,0,0,0,17.92,11.62Z" />
                                    </svg>
                                </a>
                            </li>
                        </ul>
                        <ul class="paginator">
                            <li class="paginator__item paginator__item--prev">
                                <a href="#"><svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24"
                                        viewBox="0 0 24 24">
                                        <path
                                            d="M8.5,12.8l5.7,5.6c0.4,0.4,1,0.4,1.4,0c0,0,0,0,0,0c0.4-0.4,0.4-1,0-1.4l-4.9-5l4.9-5c0.4-0.4,0.4-1,0-1.4c-0.2-0.2-0.4-0.3-0.7-0.3c-0.3,0-0.5,0.1-0.7,0.3l-5.7,5.6C8.1,11.7,8.1,12.3,8.5,12.8C8.5,12.7,8.5,12.7,8.5,12.8z" />
                                    </svg></a>
                            </li>
                            <li class="paginator__item"><a href="#">1</a></li>
                            <li class="paginator__item paginator__item--active"><a href="#">2</a></li>
                            <li class="paginator__item"><a href="#">3</a></li>
                            <li class="paginator__item"><a href="#">4</a></li>
                            <li class="paginator__item"><span>...</span></li>
                            <li class="paginator__item"><a href="#">29</a></li>
                            <li class="paginator__item"><a href="#">30</a></li>
                            <li class="paginator__item paginator__item--next">
                                <a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                        <path
                                            d="M15.54,11.29,9.88,5.64a1,1,0,0,0-1.42,0,1,1,0,0,0,0,1.41l4.95,5L8.46,17a1,1,0,0,0,0,1.41,1,1,0,0,0,.71.3,1,1,0,0,0,.71-.3l5.66-5.65A1,1,0,0,0,15.54,11.29Z" />
                                    </svg></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}